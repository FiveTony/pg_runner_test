const BG_WIDTH=900,BG_HEIGHT=2880,DATA=[[665,-900,"room1_1"],[1220,-1660,"room1_2"],[1270,-2460,"room1_3"],[700,-670,"room2_1"],[1220,-1350,"room2_2"],[700,-2300,"room2_3"],[670,-1050,"room3_1"],[802,-1800,"room3_2"],[703,-2500,"room3_3"],[705,-1130,"room4_1"],[692,-1800,"room4_2"],[703,-2500,"room4_3"],[1260,-300,"room5_1"],[690,-1300,"room5_2"],[1250,-2120,"room5_3"]];export default class Negative extends Phaser.Physics.Arcade.Group{constructor(e){super(e.physics.world,e),this.scene=e,this.count_created=0,this.createFirstElements(),this.scene.events.on("leave",(()=>{this.scene.count_created_scenes>2&&(15===this.count_created&&(this.count_created=0),this.createNextNegative(),this.createNextNegative(),this.createNextNegative())}),this)}createFirstElements(){let e=new NegativeObject(this.scene,665,100,"room1_1");e.move(),this.add(e);let t=new NegativeObject(this.scene,1220,-700,"room1_2");t.move(),this.add(t);let s=new NegativeObject(this.scene,1270,-1250,"room1_3");s.move(),this.add(s);let i=new NegativeObject(this.scene,700,-2470,"room2_1");i.move(),this.add(i);let h=new NegativeObject(this.scene,1220,-3300,"room2_2");h.move(),this.add(h);let o=new NegativeObject(this.scene,700,-4e3,"room2_3");o.move(),this.add(o),this.count_created=6}createNextNegative(){let e=DATA[this.count_created],t=this.getFirstDead();t?t.reset(e[0],e[1],e[2]):(console.log("!elem________"),t=new NegativeObject(this.scene,e[0],e[1],e[2])),this.count_created++}}class NegativeObject extends Phaser.GameObjects.Sprite{constructor(e,t,s,i){super(e,t,s,i),this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0,this.init(),this.alive_status=!0,this.body.height=this.height,this.body.width=this.width}init(){this.scene.events.on("update",this.update,this),this.scene.events.on("start_game",this.move,this)}update(e,t){this.y>1500&&this.alive_status&&this.setAlive(!1),this.y+=this.velocityY}setAlive(e){this.alive_status=e,this.body.enable=e,this.setVisible(e),this.setActive(e)}reset(e,t,s){this.x=e,this.y=t,this.setTexture(s),this.setAlive(!0),this.body.width=this.width,this.body.height=this.height}move(){this.velocityY=this.scene.game_velocity}}