const BG_WIDTH=900,BG_HEIGHT=2880,X_1=700,X_2=975,X_3=1250,DATA=[[X_3,-800,20],[700,-2400,-20],[700,-980,-20],[975,-2600,20],[975,-450,-20],[975,-1350,20],[975,-1530,-20],[X_3,-2630,20],[975,-800,-20],[700,-2390,20]];export default class Positive extends Phaser.Physics.Arcade.Group{constructor(e){super(e.physics.world,e),this.scene=e,this.count_created=0,this.createFirstElements(),this.scene.events.on("leave",(()=>{this.scene.count_created_scenes>3&&(10===this.count_created&&(this.count_created=0),this.createPositiveObject(),this.createPositiveObject())}),this)}createFirstElements(){let e=new PositiveObject(this.scene,X_3,100,"positive1",20);e.move(),this.add(e);let t=new PositiveObject(this.scene,700,-1500,"positive2",-20);t.move(),this.add(t);let s=new PositiveObject(this.scene,700,-3030,"positive3",-20);s.move(),this.add(s);let i=new PositiveObject(this.scene,975,-4420,"positive4",20);i.move(),this.add(i);let c=new PositiveObject(this.scene,975,-5150,"positive5",-20);c.move(),this.add(c);let h=new PositiveObject(this.scene,975,-6e3,"positive6",20);h.move(),this.add(h),this.count_created=6}createPositiveObject(){let e=DATA[this.count_created],t=this.getFirstDead(),s=Phaser.Math.Between(1,10);t?t.reset(e[0],e[1],`positive${s}`):(console.log("!elem________"),t=new PositiveObject(this.scene,e[0],e[1],`positive${s}`)),this.count_created++}}class PositiveObject extends Phaser.GameObjects.Sprite{constructor(e,t,s,i,c){super(e,t,s,i),this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0,this.alive_status=!0,this.init(),this.setScale(.6),this.setAngle(c)}init(){this.scene.events.on("update",this.update,this),this.scene.events.on("start",this.move,this)}update(e,t){this.y>1200&&this.alive_status&&this.setAlive(!1),this.y+=this.velocityY}setAlive(e){this.alive_status=e,this.body.enable=e,this.setVisible(e),this.setActive(e)}reset(e,t,s){this.x=e,this.y=t,this.setTexture(s),this.setAlive(!0)}move(){this.velocityY=this.scene.game_velocity}}