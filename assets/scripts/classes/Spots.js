const BG_WIDTH=900,BG_HEIGHT=2880,X_1=700,X_2=975,X_3=1250,DATA=[[700,-450,"spot_1"],[975,-1120,"spot_2"],[975,-2400,"spot_1"],[975,-980,"spot_2"],[700,-1260,"spot_1"],[X_3,-2600,"spot_2"],[700,-450,"spot_2"],[X_3,-920,"spot_1"],[X_3,-2600,"spot_2"],[X_3,-410,"spot_1"],[X_3,-1530,"spot_2"],[700,-2090,"spot_2"],[X_3,-550,"spot_2"],[700,-800,"spot_2"],[700,-2100,"spot_1"]],WIDTH=1920,HEIGHT=1080;export default class Spots extends Phaser.Physics.Arcade.Group{constructor(t){super(t.physics.world,t),this.scene=t,this.count_created=0,this.createFirstElements(),this.scene.events.on("leave",(()=>{this.scene.count_created_scenes>2&&(15===this.count_created&&(this.count_created=0),this.createSpot(),this.createSpot(),this.createSpot())}),this)}createFirstElements(){let t=new Spot(this.scene,700,500,"spot_2");t.move(),this.add(t);let e=new Spot(this.scene,975,-200,"spot_1");e.move(),this.add(e);let s=new Spot(this.scene,975,-1500,"spot_2");s.move(),this.add(s);let i=new Spot(this.scene,975,-3030,"spot_1");i.move(),this.add(i);let o=new Spot(this.scene,700,-3560,"spot_2");o.move(),this.add(o);let h=new Spot(this.scene,X_3,-4420,"spot_1");h.move(),this.add(h),this.count_created=6}createSpot(){let t=DATA[this.count_created],e=this.getFirstDead();e?e.reset(t[0],t[1],t[2]):(console.log("!elem________"),e=new Spot(this.scene,t[0],t[1],t[2])),this.count_created++}}class Spot extends Phaser.GameObjects.Sprite{constructor(t,e,s,i){super(t,e,s,i),this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0,this.init(),this.alive_status=!0,this.scene.events.on("start",this.move,this)}init(){this.scene.events.on("update",this.update,this)}update(t,e){this.y>1200&&this.alive_status&&this.setAlive(!1),this.y+=this.velocityY}setAlive(t){this.alive_status=t,this.body.enable=t,this.setVisible(t),this.setActive(t)}reset(t,e,s){this.x=t,this.y=e,this.setTexture(s),this.setAlive(!0)}move(){this.velocityY=this.scene.game_velocity}}